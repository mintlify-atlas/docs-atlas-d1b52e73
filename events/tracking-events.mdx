---
title: "Tracking Events"
description: "Learn how to track user events using the Event class in SuprSend Python SDK"
---

## Overview

The `Event` class allows you to track user actions and behaviors in your application. Events are essential for triggering workflows, analyzing user engagement, and personalizing communication.

## Creating an Event

To track an event, create an `Event` instance with the required parameters:

```python
from suprsend import Event

# Create an event instance
event = Event(
    distinct_id="user_123",
    event_name="product_purchased",
    properties={
        "product_id": "prod_456",
        "amount": 99.99,
        "currency": "USD"
    }
)
```

### Required Parameters

<ParamField path="distinct_id" type="string" required>
  A unique identifier for the user in your application. Must be a non-empty string.
</ParamField>

<ParamField path="event_name" type="string" required>
  The name of the event being tracked. Must be a non-empty string.
</ParamField>

### Optional Parameters

<ParamField path="properties" type="dict" default="{}">
  A dictionary containing additional event properties and metadata.
</ParamField>

<ParamField path="idempotency_key" type="string">
  A unique key to ensure the event is processed only once, preventing duplicate events.
</ParamField>

<ParamField path="tenant_id" type="string">
  Identifier for multi-tenant applications to associate the event with a specific tenant.
</ParamField>

<ParamField path="brand_id" type="string">
  Identifier to associate the event with a specific brand in your application.
</ParamField>

## Tracking Events

Use the `track_event()` method to send an event to SuprSend:

```python
from suprsend import Suprsend

# Initialize the client
supr_client = Suprsend("workspace_key", "workspace_secret")

# Create an event
event = Event(
    distinct_id="user_123",
    event_name="product_viewed",
    properties={"product_id": "prod_789"}
)

# Track the event
response = supr_client.track_event(event)
```

### Response Structure

The `track_event()` method returns a dictionary with the following structure:

```python
{
    "success": True,          # Boolean indicating if the request succeeded
    "status": "success",      # Status: "success" or "fail"
    "status_code": 200,       # HTTP status code
    "message": "...",         # Response message or message_id
    "raw_response": {...}     # Complete API response
}
```

## Adding Attachments

You can attach files to events using the `add_attachment()` method:

```python
event = Event(
    distinct_id="user_123",
    event_name="document_uploaded"
)

# Add an attachment
event.add_attachment(
    file_path="/path/to/file.pdf",
    file_name="document.pdf",  # Optional: custom filename
    ignore_if_error=False      # Optional: continue if attachment fails
)

# Track the event with attachment
response = supr_client.track_event(event)
```

### Attachment Parameters

<ParamField path="file_path" type="string" required>
  The absolute or relative path to the file to attach.
</ParamField>

<ParamField path="file_name" type="string">
  Optional custom name for the attached file. If not provided, uses the original filename.
</ParamField>

<ParamField path="ignore_if_error" type="boolean" default="False">
  If `True`, the event will be tracked even if the attachment fails to load.
</ParamField>

## Complete Example

```python
from suprsend import Suprsend, Event

# Initialize the SDK
supr_client = Suprsend("workspace_key", "workspace_secret")

# Create an event with all parameters
event = Event(
    distinct_id="user_123",
    event_name="order_completed",
    properties={
        "order_id": "ord_456",
        "total_amount": 149.99,
        "currency": "USD",
        "items_count": 3,
        "payment_method": "credit_card"
    },
    idempotency_key="order_456_completed",
    tenant_id="tenant_789"
)

# Track the event
response = supr_client.track_event(event)

if response["success"]:
    print(f"Event tracked successfully: {response['message']}")
else:
    print(f"Error tracking event: {response['message']}")
```

## Best Practices

<CardGroup cols={2}>
  <Card title="Use Descriptive Names" icon="tag">
    Use clear, descriptive event names that indicate the action taken (e.g., `product_purchased`, `checkout_started`).
  </Card>
  
  <Card title="Include Context" icon="list">
    Add relevant properties to provide context about the event (e.g., product details, transaction amounts).
  </Card>
  
  <Card title="Use Idempotency Keys" icon="shield">
    For critical events, use idempotency keys to prevent duplicate processing.
  </Card>
  
  <Card title="Consistent Identifiers" icon="fingerprint">
    Use consistent `distinct_id` values across all events for the same user.
  </Card>
</CardGroup>

## Error Handling

Always check the response to handle potential errors:

```python
try:
    response = supr_client.track_event(event)
    
    if not response["success"]:
        print(f"Event tracking failed: {response['message']}")
        print(f"Status code: {response['status_code']}")
except Exception as e:
    print(f"Exception occurred: {str(e)}")
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Event Properties" icon="sliders" href="/events/event-properties">
    Learn about event properties and reserved event names
  </Card>
  
  <Card title="Bulk Events" icon="layer-group" href="/events/bulk-events">
    Track multiple events efficiently in bulk
  </Card>
</CardGroup>